datasource db {
  provider = "postgresql"
  url      = env("DB_URL")
}

generator client {
  provider = "prisma-client-js"
}

model CrmData {
  bot         Bot?     @relation(fields: [botId], references: [id])
  botId       String?
  createdAt   DateTime @default(now())
  email       String?
  id          String   @id @default(cuid())
  phoneNumber String?
  updatedAt   DateTime @updatedAt
  user        User?    @relation(fields: [userId], references: [id])
  userId      String?
}

model Subscription {
  bot       Bot?      @relation(fields: [botId], references: [id])
  botId     String?
  createdAt DateTime  @default(now())
  endDate   DateTime?
  id        String    @id @default(cuid())
  startDate DateTime?
  updatedAt DateTime  @updatedAt
  user      User?     @relation(fields: [userId], references: [id])
  userId    String?
}

model Appointment {
  createdAt DateTime                  @default(now())
  date      DateTime?
  id        String                    @id @default(cuid())
  time      DateTime?
  typeField EnumAppointmentTypeField?
  updatedAt DateTime                  @updatedAt
  user      User?                     @relation(fields: [userId], references: [id])
  userId    String?
}

model LanguageSetting {
  createdAt DateTime                     @default(now())
  id        String                       @id @default(cuid())
  language  EnumLanguageSettingLanguage?
  updatedAt DateTime                     @updatedAt
  user      User?                        @relation(fields: [userId], references: [id])
  userId    String?
}

model Bot {
  active        Boolean?
  createdAt     DateTime              @default(now())
  crmDataItems  CrmData[]
  customPrompts String?
  id            String                @id @default(cuid())
  languageModel EnumBotLanguageModel?
  name          String?
  subscriptions Subscription[]
  updatedAt     DateTime              @updatedAt
  user          User?                 @relation(fields: [userId], references: [id])
  userId        String?
}

model User {
  appointments     Appointment[]
  bots             Bot[]
  createdAt        DateTime          @default(now())
  crmDataItems     CrmData[]
  email            String?           @unique
  firstName        String?
  id               String            @id @default(cuid())
  languageSettings LanguageSetting[]
  lastName         String?
  password         String
  roles            Json
  subscriptions    Subscription[]
  updatedAt        DateTime          @updatedAt
  username         String            @unique
}

enum EnumAppointmentTypeField {
  Option1
}

enum EnumLanguageSettingLanguage {
  Option1
}

enum EnumBotLanguageModel {
  Option1
}
